# Collect → TG‑канал + панель управления (CMS)

## Общая идея

1. **Collect постит в канал** — когда бот сохраняет фото+подпись в БД, он может автоматически публиковать этот контент в твой TG‑канал
2. **Панель управления Avatar** — веб‑интерфейс (CMS) для своего контента: просмотр записей Collect, настройка автопоста, модерация, экспорт

---

## Направление A: Collect → TG‑канал

### Что нужно

- Добавить бота как **админа** в канал с правом публиковать сообщения
- В БД: флаг «публиковать в канал / нет» (можно на уровне записи или глобально)
- После сохранения в `collect_entries` — вызов `bot.send_photo(chat_id=CHANNEL_ID, photo=file_id, caption=comment)`
- `CHANNEL_ID` в `.env` (формат: `-100xxxxxxxxxx`)

### Модель данных

- Новое поле в `collect_entries`: `published_to_channel` (boolean) — опубликовано ли в канал
- Конфиг: `CHANNEL_ID` — ID канала для автопоста

---

## Направление B: Панель управления (CMS)

### Что это

Веб‑панель для Avatar: просмотр и управление контентом Collect.

### Функции (MVP)

- Просмотр записей из `collect_entries` (сетка/список с фото и подписями)
- Фильтр по дате
- Вкл/выкл автопоста в канал (глобальный переключатель)
- Опционально: пометка «опубликовать вручную» / «не публиковать» для отдельных записей

### Стек (предложение)

- Python (FastAPI или Flask) + SQLite
- Простой фронт: HTML + CSS + JS, или Jinja2‑шаблоны
- Базовая авторизация (логин/пароль только для тебя)

### Где живёт

- Папка `web/` или `cms/` в проекте
- Отдельный скрипт запуска, порт 8000 или 5000

---

## Связь с сайтом Avatar

Сайт Avatar (направление 1) может быть:

- Отдельным статичным лендингом (GitHub Pages, Netlify)
- Или объединён с панелью: главная — концепт, раздел «Collect» — CMS

---

## Порядок реализации

1. **Сначала Collect → канал** — быстрее, сразу виден результат
2. **Потом панель CMS** — даст контроль и базу для сайта
3. **Сайт Avatar** — можно делать параллельно или после CMS
